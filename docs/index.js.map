{"mappings":"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","sources":["src/index.js","node_modules/wcag-contrast/dist/index.m.js","node_modules/wcag-contrast/node_modules/relative-luminance/dist/index.m.js","node_modules/wcag-contrast/index.js"],"sourcesContent":["import { hex, score } from \"wcag-contrast\";\n\nconst icon = {\n    AAA:  \"<span style='color: #1ECBE1'>✓</span>\",\n    pass: \"<span style='color: #6AE11E'>✓</span>\",\n    meh: \"<span style='color: #E1831E'>✓</span>\",\n    fail: \"<span style='color: #E1341E'>X</span>\"\n};\n\nlet bgFields = [];\n\nfunction bgIconFromScore(score) {\n    if (score >= 7) {\n        return icon.AAA;\n    } else if (score >= 4.5) {\n        return icon.pass;\n    } else if (score >= 3) {\n        return icon.meh;\n    } else {\n        return icon.fail;\n    }\n}\n\nfunction linkIconFromScore(score) {\n    if (score >= 3) {\n        return icon.pass;\n    } else {\n        return icon.fail;\n    }\n}\n\nfunction checkBgs(field, textColor, linkColor) {\n    const backgroundColor = hexFormat(field.value);\n    const textBgScore = hex(backgroundColor, textColor).toFixed(2);\n    const textBgPass = score(textBgScore);\n    const textIcon = bgIconFromScore(textBgScore);\n    const linkBgScore = hex(backgroundColor, linkColor).toFixed(2);\n    const linkBgPass = score(linkBgScore);\n    const linkIcon = bgIconFromScore(linkBgScore);\n    const results = field.closest('.info').nextElementSibling;\n    results.style.backgroundColor = backgroundColor;\n    results.style.color = textColor;\n    results.querySelector('p').innerHTML = `\n                Tu quoque, Brute, <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_WCAG/Perceivable/Color_contrast\" style=\"color:${linkColor}\">fili mi </a>, nihil timor populi, nihil!\n            `;\n    results.querySelector('dl').innerHTML = `\n                <dt>Text vs Bg Contrast Ratio</dt>\n                <dd>${textBgScore}</dd>\n                <dt>Text vs Bg WCAG 2.0 Rating</dt>\n                <dd>${textBgPass}${textIcon}</dd>\n                <dt>Link vs Bg Contrast Ratio</dt>\n                <dd>${linkBgScore}</dd>\n                <dt>Link vs Bg WCAG 2.0 Rating</dt>\n                <dd>${linkBgPass}${linkIcon}</dd>\n            `;\n}\n\nfunction hexFormat(value) {\n    if (value[0] !== '#') {\n        return '#' + value;\n    };\n\n    return value;\n}\n\nfunction checkLinks(textInput, linkInput) {\n    const textColor = hexFormat(textInput.value);\n    const linkColor = hexFormat(linkInput.value);\n    const linkScore = hex(linkColor, textColor).toFixed(2);\n    const linkPass = linkScore >= 3 ? 'Yes' : 'No';\n    const linkIcon = linkIconFromScore(linkScore);\n    const results = textInput.closest('.info').nextElementSibling;\n    results.style.color = textColor;\n    results.querySelector('p').innerHTML = `\n                Tu quoque, Brute, <a href=\"https://www.w3.org/WAI/WCAG21/Techniques/general/G183.html\" style=\"color:${linkColor}\">fili mi </a>, nihil timor populi, nihil!\n            `;\n    results.querySelector('dl').innerHTML = `\n                <dt>Link vs Text Contrast Ratio</dt>\n                <dd>${linkScore}</dd>\n                <dt>WCAG 2.0 Rating</dt>\n                <dd>${linkPass}${linkIcon}</dd>\n            `;\n}\n\nfunction updateUrl(field, params) {\n    params.set(field.name, encodeURIComponent(field.value));\n    window.history.pushState({}, '', '?' + params.toString());\n}\n\nconst params = new URLSearchParams(window.location.search);\nparams.forEach((value, key) => {\n    document.querySelector(`input[name=\"${key}\"]`).value = decodeURIComponent(value);\n});\n\ndocument.querySelectorAll('section').forEach((section) => {\n    const sectionString = section.className;\n    const textInput = section.querySelector('input[name=\"' + sectionString + '-text-color\"]');\n    const linkInput = section.querySelector('input[name=\"' + sectionString + '-link-color\"]');\n    checkLinks(textInput, linkInput);\n    textInput.addEventListener('input', (event) => {\n        updateUrl(event.target, params);\n        checkLinks(event.target, linkInput);\n        bgFields.forEach((field) => {\n            checkBgs(field, event.target.value, linkInput.value);\n        });\n    });\n    linkInput.addEventListener('input', (event) => {\n        updateUrl(event.target, params);\n        checkLinks(textInput, event.target);\n        bgFields.array.forEach(element => {\n            checkBgs(element, textInput.value, event.target.value);\n        });\n    });\n\n    const textColor = hexFormat(textInput.value);\n    const linkColor = hexFormat(linkInput.value);\n    section.querySelectorAll(`input[name^=\"${sectionString}-color\"]`).forEach((field) => {\n        bgFields.push(field);\n        checkBgs(field, textColor, linkColor);\n        field.addEventListener('input', (event) => {\n            updateUrl(event.target, params);\n            checkBgs(event.target, textColor, linkColor);\n        });\n    });\n});\n\n",null,"var r=.2126,t=.7152,n=.0722,u=1/12.92;function a(r){return Math.pow((r+.055)/1.055,2.4)}export default function(e){var o=e[0]/255,f=e[1]/255,c=e[2]/255,i=o<=.03928?o*u:a(o),p=f<=.03928?f*u:a(f),v=c<=.03928?c*u:a(c);return i*r+p*t+v*n};\n//# sourceMappingURL=index.m.js.map\n","import relativeLuminance from \"relative-luminance\";\n\nconst hexChars = \"a-f\\\\d\";\nconst match3or4Hex = `#?[${hexChars}]{3}[${hexChars}]?`;\nconst match6or8Hex = `#?[${hexChars}]{6}([${hexChars}]{2})?`;\n\nfunction hexRgb(hex) {\n  hex = hex.replace(/^#/, \"\");\n  let alpha = 255;\n\n  if (hex.length === 8) {\n    alpha = parseInt(hex.slice(6, 8), 16);\n    hex = hex.substring(0, 6);\n  }\n\n  if (hex.length === 4) {\n    alpha = parseInt(hex.slice(3, 4).repeat(2), 16);\n    hex = hex.substring(0, 3);\n  }\n\n  if (hex.length === 3) {\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n  }\n\n  const num = parseInt(hex, 16);\n  const red = num >> 16;\n  const green = (num >> 8) & 255;\n  const blue = num & 255;\n\n  return [red, green, blue, alpha];\n}\n\n// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\n/**\n * Get the contrast ratio between two relative luminance values\n * @param {number} a luminance value\n * @param {number} b luminance value\n * @returns {number} contrast ratio\n * @example\n * luminance(1, 1); // = 1\n */\nexport function luminance(a, b) {\n  const l1 = Math.max(a, b);\n  const l2 = Math.min(a, b);\n  return (l1 + 0.05) / (l2 + 0.05);\n}\n\n/**\n * Get a score for the contrast between two colors as rgb triplets\n * @param {array} a\n * @param {array} b\n * @returns {number} contrast ratio\n * @example\n * rgb([0, 0, 0], [255, 255, 255]); // = 21\n */\nexport function rgb(a, b) {\n  return luminance(relativeLuminance(a), relativeLuminance(b));\n}\n\n/**\n * Get a score for the contrast between two colors as hex strings\n * @param {string} a hex value\n * @param {string} b hex value\n * @returns {number} contrast ratio\n * @example\n * hex('#000', '#fff'); // = 21\n */\nexport function hex(a, b) {\n  return rgb(hexRgb(a, { format: \"array\" }), hexRgb(b, { format: \"array\" }));\n}\n\n/**\n * Get a textual score from a numeric contrast value\n * @param {number} contrast\n * @returns {string} score\n * @example\n * score(10); // = 'AAA'\n */\nexport function score(contrast) {\n  if (contrast  >= 7) {\n    return 'AAA';\n  }\n  \n  if (contrast >= 4.5) {\n    return 'AA';\n  }\n  \n  if (contrast >= 3) {\n    return 'AA Large';\n  }\n  \n  return 'Fail';\n}\n"],"names":["r","t","n","u","a","Math","pow","e","o","f","c","i","p","v","hexRgb","hex","alpha","replace","length","parseInt","slice","substring","repeat","num","luminance","b","max","min","rgb","relativeLuminance","score","contrast"],"version":3,"file":"index.js.map","sourceRoot":"../"}